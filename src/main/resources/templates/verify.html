<!DOCTYPE html>
<html lang="en" th:replace="~{fragments/layout :: layout(~{::content})}" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Email Verification</title>
</head>
<body class="bg-gray-100">
<div class="flex items-center justify-center min-h-screen" th:fragment="content">
    <div class="w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md">
        <h2 class="text-2xl font-bold text-center text-red-500">Email Verification</h2>

        <!-- Error and Success messages -->
        <div class="p-4 text-sm text-red-700 bg-red-100 rounded-lg mt-3" th:if="${eMsg}" th:text="${eMsg}"></div>
        <div class="p-4 text-sm text-red-700 bg-red-100 rounded-lg mt-3" th:if="${errorMessage}"
             th:text="${errorMessage}"></div>
        <div class="p-4 text-sm text-green-700 bg-green-100 rounded-lg mt-3" th:if="${successMessage}"
             th:text="${successMessage}"></div>

        <!-- Verification Code Form -->
        <form class="space-y-4" id="verificationForm" method="post" th:action="@{/auth/verifyUser}">
            <div>
                <input class="text-center mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500" id="email" name="email" placeholder="User's Email" required
                       th:value="${email}"
                       type="email">
            </div>
            <input class="text-center mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500" id="verificationCode" maxlength="6" minlength="6" name="verificationCode" required
                   type="text">
            <button class="w-full px-4 py-2 font-medium text-white bg-red-500 rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"
                    type="submit">
                Verify
            </button>
        </form>

        <!-- Resend Verification Code -->
        <form id="resendForm" class="mt-3" method="post" th:action="@{/auth/resendCode}">
            <input id = "resend-email" name="email" required th:value="${email}" type="hidden">
            <button class="w-full px-4 py-2 font-medium text-red-500 border border-red-500 rounded-md hover:bg-red-50 hover:text-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"
                    type="submit">
                Resend Code
            </button>
        </form>
    </div>
</div>
</body>
</html>

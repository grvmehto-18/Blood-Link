<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{fragments/layout :: layout(~{::content})}">
<head>
    <title>Donor Dashboard</title>
</head>
<body>
<div th:fragment="content" class="container mx-auto px-4 py-8">

    <h2 class="text-3xl font-bold text-red-600 mb-6">Welcome, <span th:text="${donorDto.fullName}"></span>!</h2>

    <div th:if="${sMsg}" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4" role="alert">
        <span th:text="${sMsg}"></span>
    </div>

    <div th:if="${eMsg}" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4" role="alert">
        <span th:text="${eMsg}"></span>
    </div>

    <h3 class="text-2xl font-semibold text-gray-800 mb-4">Your Details:</h3>
    <ul class="bg-white shadow-md rounded-lg p-6 space-y-4">
        <li class="flex flex-wrap justify-between items-center border-b pb-2">
            <span class="font-medium text-gray-700">Email:</span>
            <span th:text="${donorDto.email}" class="text-gray-900"></span>
        </li>
        <li class="flex flex-wrap justify-between items-center border-b pb-2">
            <span class="font-medium text-gray-700">Phone:</span>
            <span th:text="${donorDto.phoneNumber}" class="text-gray-900"></span>
        </li>
        <li class="flex flex-wrap justify-between items-center border-b pb-2">
            <span class="font-medium text-gray-700">Blood Group:</span>
            <span th:text="${donorDto.bloodGroup}" class="text-gray-900"></span>
        </li>
        <li class="flex flex-wrap justify-between items-center border-b pb-2">
            <span class="font-medium text-gray-700">Address:</span>
            <span th:text="${donorDto.streetAddress != null ? donorDto.streetAddress + ', ' + donorDto.city + ', ' + donorDto.district + ', ' + donorDto.state + ', ' + donorDto.country + ' - ' + donorDto.zipCode : 'Not Specified'}" class="text-gray-900"></span>
        </li>
        <li class="flex flex-wrap justify-between items-center border-b pb-2">
            <span class="font-medium text-gray-700">Occupation:</span>
            <span th:text="${donorDto.occupation} ?: 'Not Specified'" class="text-gray-900"></span>
        </li>
        <li class="flex flex-wrap justify-between items-center border-b pb-2">
            <span class="font-medium text-gray-700">Date of Birth:</span>
            <span th:text="${#dates.format(donorDto.dateOfBirth, 'yyyy-MM-dd')}" class="text-gray-900"></span>
        </li>
        <li class="flex flex-wrap justify-between items-center">
            <span class="font-medium text-gray-700">Last Donation Date:</span>
            <span th:text="${donorDto.lastDonateDate != null ? #dates.format(donorDto.lastDonateDate, 'yyyy-MM-dd') : 'Not Donated Yet'}" class="text-gray-900"></span>
        </li>
    </ul>

    <div class="mt-6 flex flex-wrap gap-4">
        <a th:href="@{/donor/{id}/update(id=${donorDto.id})}" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-md shadow-md transition duration-300">Update Details</a>
        <a th:href="@{/requests/new}" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-md shadow-md transition duration-300">Make a Blood Request</a>
        <a th:href="@{/requests/my-requests}" class="bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-md shadow-md transition duration-300">View My Requests</a>
        <a th:href="@{/donations/history/{id}(id=${donorDto.id})}" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-md shadow-md transition duration-300">View Donation History</a>
        <a th:href="@{/search}" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-md shadow-md transition duration-300">Search for Blood</a>
        <a th:href="@{/bloodcamps/list}" class="bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-md shadow-md transition duration-300">View Blood Camps</a>
        <a href="/logout" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-md shadow-md transition duration-300">Logout</a>
    </div>
</div>
</body>
</html>
